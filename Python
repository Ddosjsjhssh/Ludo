from telegram import Update, WebAppInfo, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, ContextTypes
import logging

# --- Configuration ---
# 1. BotFather se mila hua Token yahaan daalein
TOKEN = "YOUR_BOT_TOKEN_HERE" 

# 2. Apni hosted website ka URL yahaan daalein 
#    Yeh woh link hai jahan aapki index.html file host hogi.
WEB_APP_URL = "YOUR_HOSTING_URL/web_app/index.html" 

logging.basicConfig(format='%(asctime)s - %(name)s - %(levelname)s - %(message)s', level=logging.INFO)

# --- Command Handler ---

# /table command par Web App button bhejega (Screenshot jaisa UI kholne ke liye)
async def ludo_table_command(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    # Inline Button banayein jo Web App ko kholega
    keyboard = [
        [
            InlineKeyboardButton(
                "ðŸŽ² Nayi Table Request Bhejein", 
                web_app=WebAppInfo(url=WEB_APP_URL)
            )
        ]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)

    await update.message.reply_text(
        "Kripya niche diye gaye button par click karke apni Table Request bharein:",
        reply_markup=reply_markup
    )

# --- Main Function ---

def main() -> None:
    """Bot ko run karein."""
    application = Application.builder().token(TOKEN).build()
    
    # Command Handler jodein: /table
    application.add_handler(CommandHandler("table", ludo_table_command))

    print("Bot polling shuru ho raha hai...")
    application.run_polling()

if __name__ == "__main__":
    main()
